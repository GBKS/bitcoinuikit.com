import{_ as g,b as l,c as o,d as I,e as i,a as p,f as h,t as w,o as n}from"./entry-58ba788d.mjs";import u from"./Tabs-6f71539f.mjs";import d from"./Overlay-9241084a.mjs";import _ from"./ScreenList-6c5aa84c.mjs";import D from"./Search-b5e9e8df.mjs";import{S as T}from"./screens-704e9088.mjs";import"./ScreenItem-bbc633e5.mjs";const F={name:"ScreensPage",components:{Tabs:u,ScreenList:_,ScreensOverlay:d,ScreenSearch:D},props:["screenSize"],beforeMount(){this.updateTitle()},data(){console.log("ballss",this.$route.params);const e=T,r={};let t,s;for(let a=0;a<e.length;a++)t=e[a].flow,t&&(s=this.slugify(t),e[a].flowSlug=s,r[s]=t),e[a].page&&(e[a].page=parseInt(e[a].page));const c=this.getActiveFromRoute(e);return{activeScreenData:c.activeScreenData,searchTerm:c.searchTerm,screenData:e,activeScreenId:c.activeScreenId,activeFlowId:c.activeFlowId,flowSlugs:r}},watch:{$route(){if(this.activeFlowId=this.$route.params.flowId||"all",this.activeScreenId=this.$route.params.screenId,this.searchTerm=this.$route.query.search,this.activeScreenId){for(let e=0;e<this.screenData.length;e++)if(this.screenData[e].id==this.activeScreenId){this.activeScreenData=this.screenData[e];break}}else this.activeScreenData=null;this.updateTitle()}},computed:{cleanActiveFlowId(){let e=this.activeFlowId;return e=="all"&&this.searchTerm&&this.searchTerm.length>0&&(e=null),e},tabOptions(){const e={all:{label:"All",to:"/screens"}};let r;for(let t=0;t<this.screenData.length;t++)r=this.screenData[t],r.flow&&(e[r.flowSlug]||(e[r.flowSlug]={label:r.flow,to:"/screens/flow/"+r.flowSlug}));return e},visibleScreens(){let e=null,r=[];if(this.searchTerm){e=[];const t=this.searchTerm.toLowerCase();let s,c;for(let a=0;a<this.screenData.length;a++)if(s=this.screenData[a],s.title&&s.title.toLowerCase().indexOf(t)!==-1)r.push(s.id),e.push(s);else if(s.description&&s.description.toLowerCase().indexOf(t)!==-1)r.push(s.id),e.push(s);else if(s.text&&s.text.length>0){for(c=0;c<s.text.length;c++)if(s.text[c].toLowerCase().indexOf(t)!==-1){r.push(s.id),e.push(s);break}}}else if(this.activeFlowId=="all")e=this.screenData;else{e=[];for(let t=0;t<this.screenData.length;t++)this.screenData[t].flowSlug==this.activeFlowId&&(r.push(this.screenData[t].id),e.push(this.screenData[t]))}return e},sortedScreens(){return this.visibleScreens.slice().sort((r,t)=>r.flow==t.flow?r.page<t.page?-1:r.page>t.page?1:0:r.flow<t.flow?-1:r.flow>t.flow?1:0)},noResultsMessage(){return'No results for "'+this.searchTerm+'".'}},methods:{getActiveFromRoute(e){const r={activeFlowId:"all",activeScreenId:null,activeScreenData:null,searchTerm:null},t=this.$route.params.slug;return t&&t.length>0&&(t[0]=="flow"?(r.activeFlowId=t[1],t.length==3&&(r.activeScreenId=t[2],r.activeScreenData=this.getScreenDataFromScreenId(r.activeScreenId,e))):t[0]=="screen"?r.activeScreenId=t[1]:t[0]=="search"&&(r.searchTerm=this.$route.query.search)),r},setActiveFromRoute(){const e=this.getActiveFromRoute();this.activeFlowId=e.activeFlowId,this.activeScreenId=e.activeScreenId,this.activeScreenData=e.activeScreenData,this.searchTerm=e.searchTerm},getScreenDataFromScreenId(e,r){const t=r||this.screenData;let s;for(let c=0;c<t.length;c++)if(t[c].id==e){s=t[c];break}return s},setActiveFlowId(e){this.activeFlowId=e},setActiveScreenId(e){this.activeScreenId=e;for(let r=0;r<this.screenData.length;r++)if(this.screenData[r].id==e){this.activeScreenData=this.screenData[r];break}},setSearchTerm(e){this.searchTerm=e,console.log("setSearchTerm",e),e&&(this.activeFlowId=null)},hideOverlay(){console.log("hideOverlay"),this.activeScreenId=null,this.activeScreenData=null},slugify(e){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();for(var r="\xE0\xE1\xE4\xE2\xE8\xE9\xEB\xEA\xEC\xED\xEF\xEE\xF2\xF3\xF6\xF4\xF9\xFA\xFC\xFB\xF1\xE7\xB7/_,:;",t="aaaaeeeeiiiioooouuuunc------",s=0,c=r.length;s<c;s++)e=e.replace(new RegExp(r.charAt(s),"g"),t.charAt(s));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),e},updateTitle(){let e="Screens | Bitcoin UI Kit";this.activeScreenId&&this.activeScreenData?e=this.activeScreenData.title+" screen | Bitcoin UI Kit":this.activeFlowId&&this.activeFlowId!=="all"?e=this.flowSlugs[this.activeFlowId]+" flow | Bitcoin UI Kit":this.searchTerm&&this.searchTerm.length>0&&(e="Screen search | Bitcoin UI Kit"),document.title=e}}},b={class:"screens-page"},y={class:"tab-bar"},x={key:1,class:"no-results"};function A(e,r,t,s,c,a){const f=l("ScreenSearch"),v=u,m=l("ScreenList"),S=d;return n(),o("div",b,[I("div",y,[i(f,{term:c.searchTerm,onChangeInput:a.setSearchTerm},null,8,["term","onChangeInput"]),i(v,{items:a.tabOptions,activeId:a.cleanActiveFlowId,onSelect:a.setActiveFlowId},null,8,["items","activeId","onSelect"])]),a.sortedScreens.length>0?(n(),p(m,{key:0,screenData:a.sortedScreens,activeScreenId:c.activeScreenId,activeFlowId:c.activeFlowId,searchTerm:c.searchTerm,onSelect:a.setActiveScreenId},null,8,["screenData","activeScreenId","activeFlowId","searchTerm","onSelect"])):h("",!0),a.visibleScreens.length==0?(n(),o("p",x,w(a.noResultsMessage),1)):h("",!0),i(S,{screenData:c.activeScreenData,activeFlowId:c.activeFlowId,searchTerm:c.searchTerm,onHide:a.hideOverlay},null,8,["screenData","activeFlowId","searchTerm","onHide"])])}var K=g(F,[["render",A],["__scopeId","data-v-1544c87a"]]);export{K as default};
